<template>
  <div class="main">
    <el-table
        ref="singleTable"
        highlight-current-row
        :data="tableData"
        stripe
        border
        style="width: 100%"
    >
      <el-table-column label="å•é€‰" width="80">
        <!-- TODOï¼šå®Œå–„å•é€‰æŒ‰é’®ç»„ä»¶ï¼Œå®ç°éœ€æ±‚ï¼ˆDOM ç»“æ„ä¸èƒ½ä¿®æ”¹ï¼‰ -->
        <!-- æ’æ§½ï¼ˆslotï¼‰æ˜¯ä¸€ç§ç”¨äºåˆ†å‘ç»„ä»¶å†…å®¹çš„æœºåˆ¶ã€‚å®ƒå…è®¸ç»„ä»¶çš„ä½¿ç”¨è€…åœ¨ç»„ä»¶å†…éƒ¨æ’å…¥è‡ªå·±çš„å†…å®¹ï¼Œä»è€Œå®ç°ç»„ä»¶çš„å¤ç”¨å’Œçµæ´»æ€§ã€‚-->
        <!-- æŒ‡å®šäº†ä¸€ä¸ªåä¸º s çš„ä½œç”¨åŸŸï¼ˆscopeï¼‰ï¼Œç”¨äºè®¿é—®å½“å‰è¡¨æ ¼è¡Œçš„æ•°æ®ã€‚-->
        <template slot-scope="s">
          <!-- ç»‘å®šäº†ä¸€ä¸ª v-model å±æ€§ï¼Œå°†å…¶å€¼ç»‘å®šåˆ°äº† currentRow å˜é‡ä¸Šã€‚-->
          <!-- :label å±æ€§ç»‘å®šäº†å½“å‰è¡Œçš„æ•°æ® s.rowã€‚-->
          <!-- @change äº‹ä»¶ç»‘å®šäº†ä¸€ä¸ª change æ–¹æ³•ï¼Œç”¨äºåœ¨é€‰ä¸­è¡Œæ”¹å˜æ—¶è§¦å‘ç›¸åº”çš„äº‹ä»¶ã€‚-->
          <el-radio v-model="currentRow" :label="s.row" @change='change'>&nbsp;</el-radio>
        </template>
      </el-table-column>
      <el-table-column label="æ—¥æœŸ" width="180">
        <template slot-scope="scope">
          ğŸ“…<span style="margin-left: 10px">{{ scope.row.date }}</span>
        </template>
      </el-table-column>
      <el-table-column prop="name" label="å§“å" width="180"></el-table-column>
      <el-table-column prop="address" label="åœ°å€"></el-table-column>
    </el-table>
    <div class="tools">
      <el-button @click="setCurrent(tableData[1])">é€‰ä¸­ç¬¬äºŒè¡Œ</el-button>
      <el-button @click="setCurrent()">å–æ¶ˆé€‰æ‹©</el-button>
    </div>
  </div>
</template>

<script>
module.exports = {
  props: {
    tableData: {
      type: Array,
      default: () => [],
    },
  },
  data() {
    return {
      currentRow: null,
    };
  },

  methods: {
    /*
    ç”¨äºè®¾ç½®å½“å‰é€‰ä¸­è¡Œã€‚å®ƒè°ƒç”¨äº† Element UI è¡¨æ ¼ç»„ä»¶çš„ setCurrentRow æ–¹æ³•ï¼Œå¹¶å°†é€‰ä¸­è¡Œæ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒã€‚
    åŒæ—¶ï¼Œå®ƒè¿˜è°ƒç”¨äº† change æ–¹æ³•ï¼Œç”¨äºåœ¨é€‰ä¸­è¡Œæ”¹å˜æ—¶è§¦å‘ç›¸åº”çš„äº‹ä»¶ã€‚
     */
    setCurrent(row) {
      this.$refs.singleTable.setCurrentRow(row); // è®¾ç½®å½“å‰é€‰ä¸­è¡Œï¼Œé«˜äº®æ˜¾ç¤º
      this.change(row);
    },
    /*
    ç”¨äºåœ¨é€‰ä¸­è¡Œæ”¹å˜æ—¶è§¦å‘ç›¸åº”çš„äº‹ä»¶ã€‚å®ƒå°†é€‰ä¸­è¡Œçš„æ•°æ®ä½œä¸ºå‚æ•° eï¼Œå°†å…¶èµ‹å€¼ç»™ currentRow å˜é‡ï¼Œä»¥ä¾¿å…¶ä»–ç»„ä»¶å¯ä»¥è·å–åˆ°é€‰ä¸­è¡Œçš„æ•°æ®ã€‚
     */
    change(e) {
      this.currentRow = e;
    }
  }
};
</script>
<style scoped>
.main {
  width: 60%;
  margin: 0 auto;
}

.tools {
  margin-top: 20px;
  text-align: center;
}
</style>
